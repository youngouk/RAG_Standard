# Production í™˜ê²½ ì„¤ì •
# í”„ë¡œë•ì…˜ í™˜ê²½ì— ìµœì í™”ëœ ì•ˆì •ì ì´ê³  ì•ˆì „í•œ ì„¤ì •ê°’

app:
  environment: "production"
  debug: false  # í”„ë¡œë•ì…˜ì—ì„œëŠ” ë””ë²„ê·¸ ë¹„í™œì„±í™”

server:
  reload: false  # í”„ë¡œë•ì…˜ì—ì„œëŠ” ë¦¬ë¡œë“œ ë¹„í™œì„±í™”
  workers: 4     # í”„ë¡œë•ì…˜ ì›Œì»¤ ìˆ˜

# LLM í”„ë¡œë•ì…˜ ëª¨ë“œ ì„¤ì •
llm:
  default_provider: "google"
  auto_fallback: true  # í”„ë¡œë•ì…˜ì—ì„œëŠ” í´ë°± í™œì„±í™”
  fallback_order:
    - "google"
    - "openrouter"
    - "anthropic"
  google:
    temperature: 0.0  # í”„ë¡œë•ì…˜ì—ì„œëŠ” ì¼ê´€ì„± ìš°ì„ 
    max_tokens: 2048  # ì¶©ë¶„í•œ í† í°
    timeout: 30       # ì•ˆì •ì ì¸ íƒ€ì„ì•„ì›ƒ
    max_retries: 3

generation:
  default_provider: "google"
  auto_fallback: true
  fallback_order:
    - "google"
    - "openrouter"
  google:
    temperature: 0.0
    max_tokens: 2048
    timeout: 30
    max_retries: 3

# ê²€ìƒ‰ ì„¤ì • (í”„ë¡œë•ì…˜ í™˜ê²½)
retrieval:
  max_sources: 15  # í”„ë¡œë•ì…˜ì—ì„œëŠ” ì¶©ë¶„í•œ ì†ŒìŠ¤
  top_k: 15
  min_score: 0.01  # ğŸ”§ ì„ì‹œ ìˆ˜ì •: í…ŒìŠ¤íŠ¸ìš© (ì›ë˜ 0.05)
  hybrid_alpha: 0.6

# ìºì‹œ ì„¤ì • (í”„ë¡œë•ì…˜ í™˜ê²½)
cache:
  enabled: true   # í”„ë¡œë•ì…˜ì—ì„œëŠ” ìºì‹œ í™œì„±í™”
  ttl: 3600       # 1ì‹œê°„ TTL

# ì„¸ì…˜ ì„¤ì • (í”„ë¡œë•ì…˜ í™˜ê²½)
session:
  max_history: 10
  cleanup_interval: 3600  # 1ì‹œê°„ë§ˆë‹¤ ì •ë¦¬

# ë¡œê¹… ì„¤ì • (í”„ë¡œë•ì…˜ í™˜ê²½)
logging:
  level: "INFO"
  format: "json"  # êµ¬ì¡°í™”ëœ ë¡œê¹…

# Circuit Breaker (í”„ë¡œë•ì…˜ í™˜ê²½)
circuit_breaker:
  enabled: true  # í”„ë¡œë•ì…˜ì—ì„œëŠ” í™œì„±í™”
  failure_threshold: 5
  recovery_timeout: 60
  half_open_requests: 3

# Langfuse (í”„ë¡œë•ì…˜ í™˜ê²½)
langfuse:
  enabled: true  # í”„ë¡œë•ì…˜ ëª¨ë‹ˆí„°ë§ í™œì„±í™”

# MongoDB (í”„ë¡œë•ì…˜ í™˜ê²½)
mongodb:
  timeout_ms: 30000  # ì•ˆì •ì ì¸ íƒ€ì„ì•„ì›ƒ
  max_pool_size: 50
  min_pool_size: 10

# Weaviate (í”„ë¡œë•ì…˜ í™˜ê²½)
weaviate:
  timeout: 30  # ì•ˆì •ì ì¸ íƒ€ì„ì•„ì›ƒ
  batch_size: 100

# ë¦¬ë­í‚¹ (í”„ë¡œë•ì…˜ í™˜ê²½) - í™˜ê²½ë³„ ë¶„ë¦¬
reranking:
  enabled: true
  min_score: 0.05  # âœ… í”„ë¡œë•ì…˜: ì €í’ˆì§ˆ ê²°ê³¼ í•„í„°ë§ (ê°œë°œ/í…ŒìŠ¤íŠ¸ëŠ” 0.0)
  timeout: 30
  max_retries: 3

# ìŠ¤ì½”ì–´ë§ (í”„ë¡œë•ì…˜ í™˜ê²½) - ë„ë©”ì¸ë³„ ê°€ì¤‘ì¹˜ í™œì„±í™”
scoring:
  collection_weight_enabled: true   # âœ… í”„ë¡œë•ì…˜: ì»¬ë ‰ì…˜ ê°€ì¤‘ì¹˜ í™œì„±í™”
  file_type_weight_enabled: true    # âœ… í”„ë¡œë•ì…˜: íŒŒì¼íƒ€ì… ê°€ì¤‘ì¹˜ í™œì„±í™”

# GraphRAG (í”„ë¡œë•ì…˜ í™˜ê²½)
graph_rag:
  enabled: true
  max_depth: 3
  min_similarity: 0.7
