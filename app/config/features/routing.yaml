# ì¿¼ë¦¬ ë¼ìš°íŒ… ì„¤ì •
# ê¸°ëŠ¥: ì‚¬ìš©ì ì¿¼ë¦¬ë¥¼ ë¶„ì„í•˜ì—¬ ì ì ˆí•œ ì²˜ë¦¬ ê²½ë¡œ ì„ íƒ
# ì‚¬ìš©: Rule-based ë° OpenRouter í†µí•© LLM ê¸°ë°˜ ë¼ìš°í„° ì„¤ì •

# Query Routing Configuration (RootConfig í•„ìˆ˜ í•„ë“œ)
# LLMQueryRouterê°€ ì°¸ì¡°í•˜ëŠ” ì„¤ì • (llm_query_router.py:134-135)
query_routing:
  # Phase 2: LLM ë¼ìš°í„° í™œì„±í™”
  # ì •í˜• ë°ì´í„° ì§ˆë¬¸ (ë¹„ìš© ë¹„êµ, ìµœëŒ€/ìµœì†Œ ë“±)ì„ SQL ìš°ì„  ì²˜ë¦¬
  enabled: true
  llm_router:
    enabled: true  # ğŸ†• LLM ë¼ìš°í„° í™œì„±í™” (í•„ìˆ˜)
    provider: "openrouter"
    model: "google/gemini-2.5-flash-lite"
    temperature: 0.0
    max_tokens: 1024
  cache_ttl: 3600
  # ì¦‰ì‹œ ì‘ë‹µ ì„¤ì • (ì¸ì‚¬ë§, ë²”ìœ„ ì™¸ ì§ˆë¬¸)
  direct_answer:
    enabled: true
  
  # ========================================
  # Aê²½ë¡œ: ì—…ì²´ê·œì • ê²€ìƒ‰ (ë…¸ì…˜ ìš°ì„ )
  # Phase 2 PRD ìš”êµ¬ì‚¬í•­: íŠ¹ì • ì—…ì²´ ì§ˆë¬¸ ì‹œ ë…¸ì…˜ 90% ë¹„ì¤‘
  # ========================================
  data_source_routing:
    enabled: true  # falseë¡œ ë³€ê²½ ì‹œ ì¦‰ì‹œ ë¹„í™œì„±í™” (ë¡¤ë°±)
    
    # âš ï¸ [DEPRECATED] score_multipliersëŠ” rag.yamlì˜ scoring ì„¹ì…˜ìœ¼ë¡œ ì´ê´€ë¨ (2026-01-02)
    # 
    # ìƒˆë¡œìš´ ì„¤ì • ìœ„ì¹˜: app/config/features/rag.yaml
    # 
    # scoring:
    #   collection_weight_enabled: true   # í™œì„±í™”
    #   collection_weights:
    #     NotionMetadata: 1.5             # ë©”íƒ€ë°ì´í„° 50% ë¶€ìŠ¤íŠ¸
    #     Documents: 1.0
    #   file_type_weight_enabled: true    # íŒŒì¼ íƒ€ì…ë³„ ê°€ì¤‘ì¹˜ (ì„ íƒ)
    #   file_type_weights:
    #     PDF: 1.2
    #     TXT: 1.1
    #
    # ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ: DOMAIN_CUSTOMIZATION_GUIDE.md ì°¸ì¡°
    
    # ê¸°ë³¸ê°’ (LLM ì‘ë‹µ ì—†ê±°ë‚˜ ì˜¤ë¥˜ ì‹œ)
    default_data_source: "general"
    
    # ë””ë²„ê¹… ë° ëª¨ë‹ˆí„°ë§
    log_score_changes: true  # ìŠ¤ì½”ì–´ ì¡°ì • ì „í›„ ë¡œê·¸ ì¶œë ¥
    log_collection_stats: true  # ì»¬ë ‰ì…˜ë³„ í†µê³„ ë¡œê·¸

routing:
  enabled: true
  default_route: "rag"
  timeout_seconds: 10

  rule_based:
    enabled: true

  # ========================================
  # OpenRouter í†µí•© LLM ë¼ìš°í„° ì„¤ì •
  # ========================================
  # ì •í™•ë„ ìš°ì„  - ë‚®ì€ temperatureë¡œ ì¼ê´€ëœ ë¼ìš°íŒ…

  llm_router:
    enabled: true  # Phase 2: LLM ë¼ìš°í„° í™œì„±í™”

    # OpenRouter ê²Œì´íŠ¸ì›¨ì´ ì‚¬ìš©
    provider: "openrouter"

    # ê²½ëŸ‰ ëª¨ë¸ - ë¹ ë¥¸ ë¼ìš°íŒ… íŒë‹¨
    # Gemini 2.5 Flash Lite - ì´ˆê²½ëŸ‰ ë¹ ë¥¸ ì‘ë‹µ
    model: "google/gemini-2.5-flash-lite"

    # API ì„¤ì • (OpenRouter ë‹¨ì¼ í‚¤)
    api_key: "${OPENROUTER_API_KEY:-}"

    # ìš”ì²­ íŒŒë¼ë¯¸í„°
    temperature: 0.2  # ì •í™•ë„ ìš°ì„  (ë‚®ì€ ì˜¨ë„)
    max_tokens: 300
    timeout: 10

    # ë ˆê±°ì‹œ íŒŒë¼ë¯¸í„° (OpenAI í˜¸í™˜ìš©)
    verbosity: "low"  # ë¹ ë¥¸ íŒë‹¨

    # Fallback ì„¤ì •
    defaults:
      verbosity: "low"
      temperature: 0.2

  complexity:
    simple_threshold: 0.3
    moderate_threshold: 0.6
